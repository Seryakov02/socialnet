{"version":3,"sources":["assets/img/remove.svg","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/Status.js","components/Profile/Info.js","components/Posts/PostItem.js","components/Posts/index.js","store/actions/profileActions.js","containers/Posts.js","components/Profile/index.js","containers/Profile.js"],"names":["module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","ProfileStatus","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","event","currentTarget","autoFocus","onBlur","updateStatus","Info","profile","style","marginBottom","photos","small","src","alt","width","height","user","Status","fullName","Preloader","PostItem","message","deletePost","id","display","alignItems","marginRight","cursor","onClick","remove","maxLength10","maxLengthCreator","AddPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","name","validate","required","styleBtn","Posts","postItem","posts","map","post","key","values","addPost","newPostText","marginTop","setUserProfile","type","SET_USER_PROFILE","SET_STATUS","connect","state","profilePage","ACCEPT_POST","postId","DELETE_POST","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","getUserProfile","getStatus","React","Component","compose","auth","isAuth","dispatch","a","async","usersApi","data","profileApi","resultCode","withRouter"],"mappings":"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","file":"static/js/3.75c34f88.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/remove.95f30ee9.svg\";","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, { useState, useEffect } from \"react\";\r\n\r\nconst ProfileStatus = props => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const deactivateMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  const onStatusChange = event => {\r\n    setStatus(event.currentTarget.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <b>Status: </b>\r\n      {!editMode && (\r\n        <span\r\n          onDoubleClick={() => {\r\n            setEditMode(true);\r\n          }}\r\n        >\r\n          {props.status || \"no status\"}\r\n        </span>\r\n      )}\r\n      {editMode && (\r\n        <input\r\n          onChange={onStatusChange}\r\n          autoFocus={false}\r\n          value={status}\r\n          onBlur={deactivateMode}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatus;\r\n","import React from \"react\";\r\n\r\nimport Preloader from \"../../common/Preloader\";\r\nimport user from \"../../assets/img/user.png\";\r\nimport Status from \"./Status\";\r\n\r\nconst Info = props => {\r\n  if (!props.profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  return (\r\n    <div style={{ marginBottom: \"10px\" }}>\r\n      {props.profile.photos.small ? (\r\n        <img src={props.profile.photos.small} alt=\"User icon\" />\r\n      ) : (\r\n        <img\r\n          style={{ width: \"50px\", height: \"50px\" }}\r\n          src={user}\r\n          alt=\"User icon\"\r\n        />\r\n      )}\r\n      <Status status={props.status} updateStatus={props.updateStatus} />\r\n      <div>\r\n        <b>Full name: </b>\r\n        {props.profile.fullName}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n","import React from \"react\";\r\nimport user from \"../../assets/img/user.png\";\r\nimport remove from \"../../assets/img/remove.svg\";\r\n\r\nconst PostItem = ({ message, deletePost, id }) => {\r\n  return (\r\n    <div\r\n      style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"10px\" }}\r\n    >\r\n      <img\r\n        style={{ width: \"50px\", height: \"50px\", marginRight: \"10px\" }}\r\n        src={user}\r\n        alt=\"Post\"\r\n      />\r\n      <p style={{ marginRight: \"80px\" }}>{message}</p>\r\n      <img\r\n        style={{ cursor: \"pointer\" }}\r\n        onClick={() => deletePost(id)}\r\n        src={remove}\r\n        alt=\"remove\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostItem;\r\n","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\n\r\nimport { required, maxLengthCreator } from \"../../utils/validate\";\r\nimport { Textarea } from \"../../common/FormsControls\";\r\nimport PostItem from \"./PostItem\";\r\nimport { styleBtn } from \"../../common/FormsControls\";\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst Posts = props => {\r\n  let postItem = props.posts.map(post => (\r\n    <PostItem\r\n      message={post.message}\r\n      key={post.id}\r\n      id={post.id}\r\n      deletePost={props.deletePost}\r\n    />\r\n  ));\r\n\r\n  const addNewPost = values => {\r\n    props.addPost(values.newPostText);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>My Posts</h2>\r\n      <AddPostFormRedux onSubmit={addNewPost} />\r\n      <div style={{ marginTop: \"20px\" }}>{postItem}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AddPostForm = props => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field\r\n        component={Textarea}\r\n        name=\"newPostText\"\r\n        validate={[required, maxLength10]}\r\n      />\r\n      <button style={styleBtn}>Add post</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddPostFormRedux = reduxForm({ form: \"addPostForm\" })(AddPostForm);\r\n\r\nexport default Posts;\r\n","import {\r\n  ACCEPT_POST,\r\n  SET_USER_PROFILE,\r\n  SET_STATUS,\r\n  DELETE_POST\r\n} from \"../types\";\r\nimport { usersApi, profileApi } from \"../../api/api\";\r\n\r\nexport const addPost = newPostText => ({\r\n  type: ACCEPT_POST,\r\n  newPostText\r\n});\r\n\r\nexport const setUserProfile = profile => ({ type: SET_USER_PROFILE, profile });\r\n\r\nexport const setStatus = status => ({\r\n  type: SET_STATUS,\r\n  status\r\n});\r\n\r\nexport const deletePost = postId => ({\r\n  type: DELETE_POST,\r\n  postId\r\n});\r\n\r\nexport const getUserProfile = userId => async dispatch => {\r\n  let data = await usersApi.getUserProfile(userId);\r\n  dispatch(setUserProfile(data));\r\n};\r\n\r\nexport const getStatus = userId => async dispatch => {\r\n  let data = await profileApi.getStatus(userId);\r\n  dispatch(setStatus(data));\r\n};\r\n\r\nexport const updateStatus = status => async dispatch => {\r\n  let data = await profileApi.updateStatus(status);\r\n  if (data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n","import Posts from \"../components/Posts\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { addPost, deletePost } from \"../store/actions/profileActions\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { addPost, deletePost })(Posts);\r\n","import React from \"react\";\r\n\r\nimport Info from \"./Info\";\r\nimport Posts from \"../../containers/Posts\";\r\n\r\nconst Profile = ({ profile, status, updateStatus }) => {\r\n  return (\r\n    <div>\r\n      <Info profile={profile} status={status} updateStatus={updateStatus} />\r\n      <Posts />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Profile from \"../components/Profile\";\r\nimport {\r\n  setUserProfile,\r\n  getUserProfile,\r\n  getStatus,\r\n  updateStatus\r\n} from \"../store/actions/profileActions\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      if (!userId) {\r\n        this.props.history.push(\"/login\");\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n  render() {\r\n    return <Profile {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    setUserProfile,\r\n    getUserProfile,\r\n    getStatus,\r\n    updateStatus\r\n  }),\r\n  withRouter\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}