{"version":3,"sources":["utils/validate.js","assets/img/user.png","assets/img/preloader.gif","common/FormsControls.js","api/api.js","store/actions/authActions.js","components/Sidebar/index.js","containers/Sidebar.js","components/LoginForm/index.js","common/Pagination.js","components/Users/User.js","components/Users/index.js","store/actions/userActions.js","containers/Users.js","App.js","store/actions/appActions.js","store/reducers/authReducer.js","store/reducers/profileReducer.js","store/reducers/dialogReducer.js","store/reducers/userReducer.js","store/reducers/appReducer.js","store/store.js","index.js","common/Preloader.js","store/types.js"],"names":["required","value","maxLengthCreator","maxLength","length","module","exports","FormControl","input","meta","touched","error","children","hasError","className","Textarea","props","restProps","child","Input","createField","placeholder","name","validators","component","text","styleField","validate","style","styleBtn","padding","border","borderRadius","display","background","cursor","width","marginTop","margin","boxSizing","instance","axios","withCredentials","baseURL","headers","authApi","me","get","then","response","data","login","email","password","rememberMe","post","logout","delete","usersApi","getUsers","currentPage","pageSize","unfollow","userId","follow","getUserProfile","profileApi","loginAuth","getStatus","updateStatus","status","put","setAuthUserData","isAuth","type","SET_USER_DATA","payload","getUserData","dispatch","a","async","resultCode","id","Sidebar","height","position","defaultSelectedKeys","defaultOpenKeys","mode","Item","key","to","bottom","marginRight","size","onClick","connect","state","auth","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","Checkbox","message","messages","stopSubmit","_error","formData","Pagination","totalUsersCount","onPageChanged","pagesCount","Math","ceil","pages","i","push","onChange","page","total","User","user","followingInProgress","authorizedUserId","styleButton","marginBottom","src","photos","small","userPhoto","alt","fullName","followed","disabled","some","Users","users","map","followSuccess","FOLLOW","unfollowSuccess","UNFOLLOW","setCurrentPage","SET_CURRENT_PAGE","toggleIsFetching","isFetching","TOGGLE_IS_FETCHING","toggleFollowingProgress","TOGGLE_IS_FOLLOWING_PROGRESS","followUnfollowFlow","apiMethod","actionCreator","UsersContainer","pageNumber","requestUsers","this","Preloader","React","Component","usersPage","bind","items","SET_USERS","totalCount","SET_TOTAL_USERS_COUNT","count","Profile","lazy","Dialogs","App","initializeApp","initialized","exact","from","path","render","Suspense","fallback","compose","app","promise","Promise","all","INITIALIZED_SUCCESS","withRouter","defaultState","authReducer","action","posts","newPostText","profile","profileReducer","ACCEPT_POST","newPost","random","SET_USER_PROFILE","SET_STATUS","DELETE_POST","filter","item","postId","dialogs","dialogReducer","ACCEPT_DIALOG","newMessageBody","itemId","objPropName","newObjProps","userReducer","appReducer","reducers","combineReducers","profilePage","dialogsPage","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleWare","ReactDOM","document","getElementById","preloader"],"mappings":"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","file":"static/js/main.2f00f00f.chunk.js","sourcesContent":["export const required = value => {\r\n  if (value) return undefined;\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/user.471a1ad3.png\";","module.exports = __webpack_public_path__ + \"static/media/preloader.c0504cf3.gif\";","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\n\r\nconst FormControl = ({ input, meta: { touched, error }, children }) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={hasError ? \"error\" : null}>\r\n      {children}\r\n      <div>{hasError && <span>{error}</span>}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Textarea = props => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const Input = props => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const createField = (\r\n  placeholder,\r\n  name,\r\n  validators,\r\n  component,\r\n  props = {},\r\n  text = \"\",\r\n  styleField\r\n) => {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        name={name}\r\n        component={component}\r\n        validate={validators}\r\n        {...props}\r\n        style={styleField}\r\n      />\r\n      <label>{text}</label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const styleBtn = {\r\n  padding: \"3px 5px\",\r\n  border: \"1px solid #ccc\",\r\n  borderRadius: \"4px\",\r\n  display: \"inline-block\",\r\n  background: \"#fff\",\r\n  cursor: \"pointer\",\r\n  width: \"80px\",\r\n  marginTop: \"8px\"\r\n};\r\n\r\nexport const styleField = {\r\n  width: \"20%\",\r\n  padding: \"3px 5px\",\r\n  margin: \"8px 0\",\r\n  display: \"inline-block\",\r\n  border: \"1px solid #ccc\",\r\n  borderRadius: \"4px\",\r\n  boxSizing: \"border-box\"\r\n};\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"32b355ef-2996-4cfd-a32d-b063f1403f9d\"\r\n  }\r\n});\r\n\r\nexport const authApi = {\r\n  me() {\r\n    return instance.get(`auth/me`).then(response => response.data);\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance\r\n      .post(`auth/login`, { email, password, rememberMe })\r\n      .then(response => response.data);\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`).then(response => response.data);\r\n  }\r\n};\r\n\r\nexport const usersApi = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => response.data);\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`).then(response => response.data);\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`).then(response => response.data);\r\n  },\r\n  getUserProfile(userId) {\r\n    return profileApi.getUserProfile(userId);\r\n  },\r\n  loginAuth(login) {\r\n    return instance.post(`auth/${login}`).then(response => response.data);\r\n  }\r\n};\r\n\r\nexport const profileApi = {\r\n  getUserProfile(userId) {\r\n    return instance.get(`profile/` + userId).then(response => response.data);\r\n  },\r\n  getStatus(userId) {\r\n    return instance\r\n      .get(`profile/status/` + userId)\r\n      .then(response => response.data);\r\n  },\r\n  updateStatus(status) {\r\n    return instance\r\n      .put(`profile/status`, { status })\r\n      .then(response => response.data);\r\n  }\r\n};\r\n","import { SET_USER_DATA } from \"../types\";\r\nimport { stopSubmit } from \"redux-form\";\r\nimport { authApi } from \"../../api/api\";\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth }\r\n});\r\n\r\nexport const getUserData = () => async dispatch => {\r\n  let data = await authApi.me();\r\n  if (data.resultCode === 0) {\r\n    let { id, login, email } = data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async dispatch => {\r\n  let data = await authApi.login(email, password, rememberMe);\r\n  if (data.resultCode === 0) {\r\n    dispatch(getUserData());\r\n  } else {\r\n    let message = data.messages.length > 0 ? data.messages[0] : \"Some error\";\r\n    dispatch(stopSubmit(\"login\", { _error: message }));\r\n  }\r\n};\r\n\r\nexport const logout = () => async dispatch => {\r\n  let data = await authApi.logout();\r\n  if (data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Menu, Icon, Button } from \"antd\";\r\n\r\nconst Sidebar = ({ login, isAuth, logout }) => {\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <Menu\r\n        style={{ width: 256, height: \"100%\", position: \"relative\" }}\r\n        defaultSelectedKeys={[\"1\"]}\r\n        defaultOpenKeys={[\"sub1\"]}\r\n        mode=\"inline\"\r\n      >\r\n        <Menu.Item key=\"1\">\r\n          <Link to=\"/profile\">\r\n            <Icon type=\"home\" />\r\n            Profile\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"2\">\r\n          <Link to=\"/im\">\r\n            <Icon type=\"message\" />\r\n            Message\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"3\">\r\n          <Link to=\"/users\">\r\n            <Icon type=\"user\" />\r\n            Users\r\n          </Link>\r\n        </Menu.Item>\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            height: \"40px\",\r\n            background: \"#f1f1f1\",\r\n            position: \"absolute\",\r\n            bottom: \"0\"\r\n          }}\r\n        >\r\n          {isAuth ? (\r\n            <div style={{ margin: \"7px 0 0 10px\" }}>\r\n              <p style={{ display: \"inline\", marginRight: \"100px\" }}>{login}</p>\r\n              <Button type=\"dashed\" size=\"small\" onClick={logout}>\r\n                Logout\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <div style={{ margin: \"8px 0 0 10px\" }}>\r\n              <Button size=\"small\">\r\n                <Link to=\"/login\">Login</Link>\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Sidebar from \"../components/Sidebar\";\r\nimport { logout } from \"../store/actions/authActions\";\r\n\r\nconst SidebarContainer = props => <Sidebar {...props} />;\r\n\r\nconst mapStateToProps = state => ({\r\n  login: state.auth.login,\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(SidebarContainer);\r\n","import React from \"react\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Checkbox } from \"antd\";\r\n\r\nimport { Input, createField } from \"../../common/FormsControls\";\r\nimport { required } from \"../../utils/validate\";\r\nimport { login } from \"../../store/actions/authActions\";\r\nimport { styleBtn, styleField } from \"../../common/FormsControls\";\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField(\"Email\", \"email\", [required], Input, null, null, styleField)}\r\n      {createField(\r\n        \"Password\",\r\n        \"password\",\r\n        [required],\r\n        Input,\r\n        {\r\n          type: \"password\"\r\n        },\r\n        null,\r\n        styleField\r\n      )}\r\n      {createField(\r\n        null,\r\n        \"rememberMe\",\r\n        [],\r\n        Checkbox,\r\n        {\r\n          type: \"checkbox\"\r\n        },\r\n        \" Remember me\"\r\n      )}\r\n      {error && <div>{error}</div>}\r\n      <div>\r\n        <button style={styleBtn}>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\"\r\n})(LoginForm);\r\n\r\nconst Login = props => {\r\n  const onSubmit = formData => {\r\n    props.login(formData.email, formData.password, formData.rememberMe);\r\n  };\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nlet mapStateToProps = state => ({\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import React from \"react\";\r\nimport { Pagination as Paginator } from \"antd\";\r\n\r\nconst Pagination = ({ totalUsersCount, pageSize, onPageChanged }) => {\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  return (\r\n    <div style={{ marginTop: \"40px\" }}>\r\n      <Paginator\r\n        onChange={page => {\r\n          onPageChanged(page);\r\n        }}\r\n        total={pages.length * 10}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"antd\";\r\n\r\nimport userPhoto from \"../../assets/img/user.png\";\r\n\r\nconst User = ({\r\n  user,\r\n  followingInProgress,\r\n  unfollow,\r\n  follow,\r\n  authorizedUserId\r\n}) => {\r\n  const styleButton = {\r\n    padding: \"0 5px\"\r\n  };\r\n  return (\r\n    <div style={{ display: \"flex\", marginBottom: \"10px\" }}>\r\n      <span style={{ marginRight: \"20px\" }}>\r\n        <div style={{ marginBottom: \"3px\" }}>\r\n          <Link to={\"/profile/\" + user.id}>\r\n            <img\r\n              src={user.photos.small != null ? user.photos.small : userPhoto}\r\n              style={{ width: \"50px\", height: \"50px\", borderRadius: \"50%\" }}\r\n              alt={user.fullName}\r\n            />\r\n          </Link>\r\n        </div>\r\n        {user.followed ? (\r\n          <Button\r\n            style={styleButton}\r\n            disabled={followingInProgress.some(id => id === user.id)}\r\n            onClick={() => {\r\n              unfollow(user.id);\r\n            }}\r\n          >\r\n            Unfollow\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            style={styleButton}\r\n            disabled={followingInProgress.some(id => id === user.id)}\r\n            onClick={() => {\r\n              if (user.id === authorizedUserId) {\r\n                return undefined;\r\n              }\r\n              follow(user.id);\r\n            }}\r\n          >\r\n            Follow\r\n          </Button>\r\n        )}\r\n      </span>\r\n      <span>\r\n        <div>\r\n          <div>{user.name}</div>\r\n          <div>{user.status}</div>\r\n          <div>user.location.country</div>\r\n          <div>user.location.city</div>\r\n        </div>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\n\r\nimport Pagination from \"../../common/Pagination\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({\r\n  currentPage,\r\n  totalUsersCount,\r\n  pageSize,\r\n  onPageChanged,\r\n  users,\r\n  authorizedUserId,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div>\r\n      {users.map(user => (\r\n        <User\r\n          user={user}\r\n          key={user.id}\r\n          followingInProgress={props.followingInProgress}\r\n          unfollow={props.unfollow}\r\n          follow={props.follow}\r\n          authorizedUserId={authorizedUserId}\r\n        />\r\n      ))}\r\n      <Pagination\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        totalUsersCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { usersApi } from \"../../api/api\";\r\n\r\nimport {\r\n  FOLLOW,\r\n  UNFOLLOW,\r\n  SET_USERS,\r\n  SET_CURRENT_PAGE,\r\n  SET_TOTAL_USERS_COUNT,\r\n  TOGGLE_IS_FETCHING,\r\n  TOGGLE_IS_FOLLOWING_PROGRESS\r\n} from \"../types\";\r\n\r\nexport const followSuccess = userId => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = userId => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = users => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = currentPage => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage\r\n});\r\n\r\nexport const setTotalUsersCount = totalUsersCount => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount\r\n});\r\n\r\nexport const toggleIsFetching = isFetching => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching\r\n});\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => async dispatch => {\r\n  dispatch(toggleIsFetching(true));\r\n  let data = await usersApi.getUsers(page, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(setCurrentPage(page));\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setTotalUsersCount(data.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let data = await apiMethod(userId);\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = userId => async dispatch => {\r\n  followUnfollowFlow(\r\n    dispatch,\r\n    userId,\r\n    usersApi.follow.bind(usersApi),\r\n    followSuccess\r\n  );\r\n};\r\n\r\nexport const unfollow = userId => async dispatch => {\r\n  followUnfollowFlow(\r\n    dispatch,\r\n    userId,\r\n    usersApi.unfollow.bind(usersApi),\r\n    unfollowSuccess\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Users from \"../components/Users\";\r\nimport Preloader from \"../common/Preloader\";\r\nimport {\r\n  follow,\r\n  unfollow,\r\n  setCurrentPage,\r\n  toggleFollowingProgress,\r\n  requestUsers\r\n} from \"../store/actions/userActions\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    const { currentPage, pageSize } = this.props;\r\n    this.props.requestUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = pageNumber => {\r\n    const { pageSize } = this.props;\r\n    this.props.requestUsers(pageNumber, pageSize);\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          unfollow={this.props.unfollow}\r\n          follow={this.props.follow}\r\n          isFetching={this.props.isFetching}\r\n          followingInProgress={this.props.followingInProgress}\r\n          authorizedUserId={this.props.authorizedUserId}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: state.usersPage.users,\r\n    pageSize: state.usersPage.pageSize,\r\n    totalUsersCount: state.usersPage.totalUsersCount,\r\n    currentPage: state.usersPage.currentPage,\r\n    isFetching: state.usersPage.isFetching,\r\n    followingInProgress: state.usersPage.followingInProgress,\r\n    authorizedUserId: state.auth.userId\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  follow,\r\n  unfollow,\r\n  setCurrentPage,\r\n  toggleFollowingProgress,\r\n  requestUsers\r\n})(UsersContainer);\r\n","import React from \"react\";\nimport { Route, Switch, withRouter, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\n\nimport { initializeApp } from \"./store/actions/appActions\";\nimport Sidebar from \"./containers/Sidebar\";\nimport LoginForm from \"./components/LoginForm\";\nimport Users from \"./containers/Users\";\nimport Preloader from \"./common/Preloader\";\n\nconst Profile = React.lazy(() => import(\"./containers/Profile\"));\nconst Dialogs = React.lazy(() => import(\"./containers/Dialogs\"));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n    return (\n      <div className=\"wrapper\">\n        <Sidebar />\n        <div className=\"wrapper__pages\">\n          <Switch>\n            <Redirect exact from=\"/\" to=\"/profile\" />\n            <Route\n              path=\"/profile/:userId?\"\n              render={() => {\n                return (\n                  <React.Suspense fallback={<Preloader />}>\n                    <Profile />\n                  </React.Suspense>\n                );\n              }}\n            />\n            <Route\n              path=\"/im\"\n              render={() => {\n                return (\n                  <React.Suspense fallback={<Preloader />}>\n                    <Dialogs />\n                  </React.Suspense>\n                );\n              }}\n            />\n            <Route path=\"/users\" render={() => <Users />} />\n            <Route path=\"/login\" render={() => <LoginForm />} />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  initialized: state.app.initialized\n});\n\nexport default compose(\n  connect(mapStateToProps, { initializeApp }),\n  withRouter\n)(App);\n","import { INITIALIZED_SUCCESS } from \"../types\";\r\nimport { getUserData } from \"./authActions\";\r\n\r\nexport const initializeApp = () => dispatch => {\r\n  let promise = dispatch(getUserData());\r\n  Promise.all([promise]).then(() => {\r\n    dispatch({ type: INITIALIZED_SUCCESS });\r\n  });\r\n};\r\n","import { SET_USER_DATA } from \"../types\";\r\n\r\nconst defaultState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false\r\n};\r\n\r\nconst authReducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import {\r\n  ACCEPT_POST,\r\n  SET_USER_PROFILE,\r\n  SET_STATUS,\r\n  DELETE_POST\r\n} from \"../types\";\r\n\r\nconst defaultState = {\r\n  posts: [\r\n    { id: 1, message: \"Test\" },\r\n    { id: 2, message: \"Test\" }\r\n  ],\r\n  newPostText: \"\",\r\n  profile: null,\r\n  status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case ACCEPT_POST: {\r\n      let newPost = {\r\n        id: Math.random(),\r\n        message: action.newPostText\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost]\r\n      };\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      };\r\n    }\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      };\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(item => item.id !== action.postId)\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","import { ACCEPT_DIALOG } from \"../types\";\r\n\r\nconst defaultState = {\r\n  dialogs: [\r\n    { id: 1, name: \"Grace\" },\r\n    { id: 2, name: \"Grace\" },\r\n    { id: 3, name: \"Evie\" },\r\n    { id: 4, name: \"Grace\" }\r\n  ],\r\n\r\n  messages: [\r\n    { id: 1, message: \"Hello\" },\r\n    { id: 2, message: \"How are you?\" },\r\n    { id: 3, message: \"I’m good, and you?\" },\r\n    { id: 4, message: \"I’m fine\" }\r\n  ]\r\n};\r\n\r\nconst dialogReducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case ACCEPT_DIALOG: {\r\n      return {\r\n        ...state,\r\n        messages: [\r\n          ...state.messages,\r\n          { id: Math.random(), message: action.newMessageBody }\r\n        ]\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default dialogReducer;\r\n","import {\r\n  FOLLOW,\r\n  UNFOLLOW,\r\n  SET_USERS,\r\n  SET_CURRENT_PAGE,\r\n  SET_TOTAL_USERS_COUNT,\r\n  TOGGLE_IS_FETCHING,\r\n  TOGGLE_IS_FOLLOWING_PROGRESS\r\n} from \"../types\";\r\n\r\nconst defaultState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n};\r\n\r\nconst followUnfollowFlow = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map(user => {\r\n    if (user[objPropName] === itemId) {\r\n      return { ...user, ...newObjProps };\r\n    }\r\n    return user;\r\n  });\r\n};\r\n\r\nconst userReducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: followUnfollowFlow(state.users, action.userId, \"id\", {\r\n          followed: true\r\n        })\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: followUnfollowFlow(state.users, action.userId, \"id\", {\r\n          followed: false\r\n        })\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users\r\n      };\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage\r\n      };\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.count\r\n      };\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      };\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import { INITIALIZED_SUCCESS } from \"../types\";\r\n\r\nconst defaultState = {\r\n  initialized: null\r\n};\r\n\r\nconst appReducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default appReducer;\r\n","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\n\r\nimport authReducer from \"./reducers/authReducer\";\r\nimport profileReducer from \"./reducers/profileReducer\";\r\nimport dialogReducer from \"./reducers/dialogReducer\";\r\nimport userReducer from \"./reducers/userReducer\";\r\nimport appReducer from \"./reducers/appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogReducer,\r\n  usersPage: userReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunkMiddleWare))\r\n);\r\n\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\n\nimport \"./index.scss\";\nimport App from \"./App\";\nimport store from \"./store/store\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n","import React from \"react\";\r\nimport preloader from \"../assets/img/preloader.gif\";\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div>\r\n      <img src={preloader} alt=\"preloader\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","//auth\r\nexport const SET_USER_DATA = \"SET_USER_DATA\";\r\n\r\n//profile\r\nexport const ACCEPT_POST = \"ACCEPT-POST\";\r\nexport const SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nexport const SET_STATUS = \"SET_STATUS\";\r\nexport const DELETE_POST = \"DELETE_POST\";\r\n\r\n//dialogs\r\nexport const ACCEPT_DIALOG = \"ACCEPT-DIALOG\";\r\n\r\n//users\r\nexport const FOLLOW = \"FOLLOW\";\r\nexport const UNFOLLOW = \"UNFOLLOW\";\r\nexport const SET_USERS = \"SET_USERS\";\r\nexport const SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nexport const SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nexport const TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nexport const TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\n//initialize\r\nexport const INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n"],"sourceRoot":""}