{"version":3,"sources":["components/Dialogs/DialogItem.js","components/Message/index.js","components/Dialogs/index.js","containers/Dialogs.js","store/actions/dialogActions.js"],"names":["DialogItem","props","style","padding","to","id","name","Message","text","maxLength","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","required","styleBtn","Dialogs","isAuth","state","dialogsPage","dialogsElements","dialogs","map","dialog","key","messagesElements","messages","message","display","marginLeft","marginTop","values","addMessage","newMessageBody","connect","auth","dispatch","type","ACCEPT_DIALOG"],"mappings":"6KAaeA,EAVI,SAAAC,GACjB,OACE,yBAAKC,MAAO,CAAEC,QAAS,YACrB,kBAAC,IAAD,CAAMC,GAAI,OAASH,EAAMI,IACvB,2BAAIJ,EAAMK,SCGHC,EARC,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACjB,OACE,yBAAKN,MAAO,CAAEC,QAAS,UACrB,2BAAIK,K,iBCIJC,EAAYC,YAAiB,IAgD7BC,EAAsBC,YAAU,CAAEC,KAAM,wBAAlBD,EAfL,SAAAX,GACrB,OACE,0BAAMa,SAAUb,EAAMc,cACpB,kBAACC,EAAA,EAAD,CACEC,UAAWC,IACXZ,KAAK,iBACLa,YAAY,qBACZC,SAAU,CAACC,IAAUZ,GACrBP,MAAO,CAAEC,QAAS,SAEpB,4BAAQD,MAAOoB,KAAf,YASSC,EAlDC,SAAAtB,GACd,IAAKA,EAAMuB,OACT,OAAO,kBAAC,IAAD,CAAUpB,GAAG,WAEtB,IAAIqB,EAAQxB,EAAMyB,YAEdC,EAAkBF,EAAMG,QAAQC,KAAI,SAAAC,GAAM,OAC5C,kBAAC,EAAD,CAAYxB,KAAMwB,EAAOxB,KAAMyB,IAAKD,EAAOzB,GAAIA,GAAIyB,EAAOzB,QAGxD2B,EAAmBP,EAAMQ,SAASJ,KAAI,SAAAK,GAAO,OAC/C,kBAAC,EAAD,CAAS1B,KAAM0B,EAAQA,QAASH,IAAKG,EAAQ7B,QAO/C,OACE,6BACE,yBAAKH,MAAO,CAAEiC,QAAS,SACrB,6BAAMR,GACN,yBAAKzB,MAAO,CAAEkC,WAAY,SAAWJ,IAEvC,yBAAK9B,MAAO,CAAEmC,UAAW,SACvB,kBAAC1B,EAAD,CAAqBG,SAXP,SAAAwB,GAClBrC,EAAMsC,WAAWD,EAAOE,sB,OCNbC,uBAfS,SAAAhB,GACtB,MAAO,CACLC,YAAaD,EAAMC,YACnBF,OAAQC,EAAMiB,KAAKlB,WAII,SAAAmB,GACzB,MAAO,CACLJ,WAAY,SAAAC,GACVG,ECboB,SAAAH,GAAc,MAAK,CAC3CI,KAAMC,IACNL,kBDWaD,CAAWC,QAKXC,CAA6ClB","file":"static/js/4.8cb91488.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst DialogItem = props => {\r\n  return (\r\n    <div style={{ padding: \"5px 0px\" }}>\r\n      <Link to={\"/im/\" + props.id}>\r\n        <p>{props.name}</p>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;","import React from \"react\";\r\n\r\nconst Message = ({ text }) => {\r\n  return (\r\n    <div style={{ padding: \"5px 0\" }}>\r\n      <p>{text}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport DialogItem from \"./DialogItem\";\r\nimport Message from \"../Message\";\r\nimport { Textarea, styleBtn } from \"../../common/FormsControls\";\r\nimport { required, maxLengthCreator } from \"../../utils/validate\";\r\n\r\nconst maxLength = maxLengthCreator(50);\r\n\r\nconst Dialogs = props => {\r\n  if (!props.isAuth) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n  let state = props.dialogsPage;\r\n\r\n  let dialogsElements = state.dialogs.map(dialog => (\r\n    <DialogItem name={dialog.name} key={dialog.id} id={dialog.id} />\r\n  ));\r\n\r\n  let messagesElements = state.messages.map(message => (\r\n    <Message text={message.message} key={message.id} />\r\n  ));\r\n\r\n  let addNewMessage = values => {\r\n    props.addMessage(values.newMessageBody);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: \"flex\" }}>\r\n        <div>{dialogsElements}</div>\r\n        <div style={{ marginLeft: \"30px\" }}>{messagesElements}</div>\r\n      </div>\r\n      <div style={{ marginTop: \"10px\" }}>\r\n        <AddMessageFormRedux onSubmit={addNewMessage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AddMessageForm = props => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field\r\n        component={Textarea}\r\n        name=\"newMessageBody\"\r\n        placeholder=\"Enter your message\"\r\n        validate={[required, maxLength]}\r\n        style={{ padding: \"5px\" }}\r\n      />\r\n      <button style={styleBtn}>Send</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddMessageFormRedux = reduxForm({ form: \"dialogAddMessageForm\" })(\r\n  AddMessageForm\r\n);\r\n\r\nexport default Dialogs;\r\n","import { connect } from \"react-redux\";\r\n\r\nimport Dialogs from \"../components/Dialogs\";\r\nimport { addMessage } from \"../store/actions/dialogActions\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n    isAuth: state.auth.isAuth\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addMessage: newMessageBody => {\r\n      dispatch(addMessage(newMessageBody));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dialogs);\r\n","import { ACCEPT_DIALOG } from \"../types\";\r\n\r\nexport const addMessage = newMessageBody => ({\r\n  type: ACCEPT_DIALOG,\r\n  newMessageBody\r\n});\r\n"],"sourceRoot":""}