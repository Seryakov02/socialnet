(this.webpackJsonpsocialnet=this.webpackJsonpsocialnet||[]).push([[3],{439:function(t,e,n){t.exports=n.p+"static/media/remove.95f30ee9.svg"},440:function(t,e,n){"use strict";n.r(e);var a=n(105),r=n(106),s=n(110),u=n(107),o=n(111),i=n(0),c=n.n(i),l=n(40),p=n(15),f=n(22),m=n(72),d=n(161),h=n.n(d);function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],a=!0,r=!1,s=void 0;try{for(var u,o=t[Symbol.iterator]();!(a=(u=o.next()).done)&&(n.push(u.value),!e||n.length!==e);a=!0);}catch(i){r=!0,s=i}finally{try{a||null==o.return||o.return()}finally{if(r)throw s}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=function(t){var e=g(Object(i.useState)(!1),2),n=e[0],a=e[1],r=g(Object(i.useState)(t.status),2),s=r[0],u=r[1];Object(i.useEffect)((function(){u(t.status)}),[t.status]);return c.a.createElement("div",null,c.a.createElement("b",null,"Status: "),!n&&c.a.createElement("span",{onDoubleClick:function(){a(!0)}},t.status||"no status"),n&&c.a.createElement("input",{onChange:function(t){u(t.currentTarget.value)},autoFocus:!1,value:s,onBlur:function(){a(!1),t.updateStatus(s)}}))},v=function(t){return t.profile?c.a.createElement("div",{style:{marginBottom:"10px"}},t.profile.photos.small?c.a.createElement("img",{src:t.profile.photos.small,alt:"User icon"}):c.a.createElement("img",{style:{width:"50px",height:"50px"},src:h.a,alt:"User icon"}),c.a.createElement(b,{status:t.status,updateStatus:t.updateStatus}),c.a.createElement("div",null,c.a.createElement("b",null,"Full name: "),t.profile.fullName)):c.a.createElement(m.a,null)},y=n(153),E=n(208),x=n(146),P=n(37),S=n(439),w=n.n(S),j=function(t){var e=t.message,n=t.deletePost,a=t.id;return c.a.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"}},c.a.createElement("img",{style:{width:"50px",height:"50px",marginRight:"10px"},src:h.a,alt:"Post"}),c.a.createElement("p",{style:{marginRight:"80px"}},e),c.a.createElement("img",{style:{cursor:"pointer"},onClick:function(){return n(a)},src:w.a,alt:"remove"}))},O=Object(x.a)(10),k=Object(E.a)({form:"addPostForm"})((function(t){return c.a.createElement("form",{onSubmit:t.handleSubmit},c.a.createElement(y.a,{component:P.b,name:"newPostText",validate:[x.b,O]}),c.a.createElement("button",{style:P.d},"Add post"))})),T=function(t){var e=t.posts.map((function(e){return c.a.createElement(j,{message:e.message,key:e.id,id:e.id,deletePost:t.deletePost})}));return c.a.createElement("div",null,c.a.createElement("h2",null,"My Posts"),c.a.createElement(k,{onSubmit:function(e){t.addPost(e.newPostText)}}),c.a.createElement("div",{style:{marginTop:"20px"}},e))},U=n(26),I=n.n(U),A=n(9),C=n(41),B=function(t){return{type:A.k,profile:t}},F=function(t){return{type:A.g,status:t}},z=Object(f.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{addPost:function(t){return{type:A.b,newPostText:t}},deletePost:function(t){return{type:A.c,postId:t}}})(T),D=function(t){var e=t.profile,n=t.status,a=t.updateStatus;return c.a.createElement("div",null,c.a.createElement(v,{profile:e,status:n,updateStatus:a}),c.a.createElement(z,null))},J=function(t){function e(){return Object(a.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(o.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return c.a.createElement(D,this.props)}}]),e}(c.a.Component);e.default=Object(p.d)(Object(f.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{setUserProfile:B,getUserProfile:function(t){return function(e){var n;return I.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I.a.awrap(C.c.getUserProfile(t));case 2:n=a.sent,e(B(n));case 4:case"end":return a.stop()}}))}},getStatus:function(t){return function(e){var n;return I.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I.a.awrap(C.b.getStatus(t));case 2:n=a.sent,e(F(n));case 4:case"end":return a.stop()}}))}},updateStatus:function(t){return function(e){return I.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.a.awrap(C.b.updateStatus(t));case 2:0===n.sent.resultCode&&e(F(t));case 4:case"end":return n.stop()}}))}}}),l.g)(J)}}]);
//# sourceMappingURL=3.75c34f88.chunk.js.map